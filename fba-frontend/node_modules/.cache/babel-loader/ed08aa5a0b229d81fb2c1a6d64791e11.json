{"ast":null,"code":"import _slicedToArray from \"D:\\\\Personal Projects\\\\Fantasy-Project\\\\fba-frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Personal Projects\\\\Fantasy-Project\\\\fba-frontend\\\\src\\\\pages\\\\Home.jsx\";\nimport React, { useContext, useState } from 'react';\nimport HomePopup from '../components/home/HomePopup';\nimport ModelService from '../services/ModelService';\nimport Backdrop from '../components/home/Backdrop';\nimport { ModelContext } from '../store/model-context';\nimport HomeScreen from '../components/home/HomeScreen';\n\nfunction Home(props) {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      wasError = _useState4[0],\n      setWasError = _useState4[1];\n\n  var model = useContext(ModelContext);\n\n  function createModelHandler(leagueIdData) {\n    setIsLoading(true);\n    ModelService.createModel(leagueIdData).then(function (res) {\n      setIsLoading(false);\n      model.setModelLoaded(true);\n      model.setLeagueId(leagueIdData);\n      ModelService.leagueId = leagueIdData;\n      setWasError(false);\n    }).catch(function (error) {\n      setWasError(true);\n      setIsLoading(false);\n    });\n  }\n\n  function createDemoHandler() {\n    setIsLoading(true);\n    ModelService.createDemo().then(function (res) {\n      setIsLoading(false);\n      model.setModelLoaded(true);\n      setWasError(false);\n    }).catch(function (error) {\n      setWasError(true);\n      setIsLoading(false);\n    });\n  }\n\n  function popupHandler() {\n    model.setModelLoaded(false);\n  }\n\n  if (!model.isLoaded) {\n    return /*#__PURE__*/React.createElement(Backdrop, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(HomePopup, {\n      loading: isLoading,\n      error: wasError,\n      createModel: createModelHandler,\n      createDemo: createDemoHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(HomeScreen, {\n    handlePopup: popupHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default Home;","map":{"version":3,"sources":["D:/Personal Projects/Fantasy-Project/fba-frontend/src/pages/Home.jsx"],"names":["React","useContext","useState","HomePopup","ModelService","Backdrop","ModelContext","HomeScreen","Home","props","isLoading","setIsLoading","wasError","setWasError","model","createModelHandler","leagueIdData","createModel","then","res","setModelLoaded","setLeagueId","leagueId","catch","error","createDemoHandler","createDemo","popupHandler","isLoaded"],"mappings":";;AAAA,OAAOA,KAAP,IAAiBC,UAAjB,EAA6BC,QAA7B,QAA6C,OAA7C;AACA,OAAOC,SAAP,MAAsB,8BAAtB;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,SAASC,YAAT,QAA6B,wBAA7B;AACA,OAAOC,UAAP,MAAuB,+BAAvB;;AACA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AAAA,kBACiBP,QAAQ,EADzB;AAAA;AAAA,MACVQ,SADU;AAAA,MACCC,YADD;;AAAA,mBAEeT,QAAQ,CAAC,KAAD,CAFvB;AAAA;AAAA,MAEVU,QAFU;AAAA,MAEAC,WAFA;;AAGjB,MAAMC,KAAK,GAAGb,UAAU,CAACK,YAAD,CAAxB;;AAEA,WAASS,kBAAT,CAA4BC,YAA5B,EAA0C;AACtCL,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAP,IAAAA,YAAY,CAACa,WAAb,CAAyBD,YAAzB,EACCE,IADD,CACO,UAACC,GAAD,EAAS;AACZR,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAG,MAAAA,KAAK,CAACM,cAAN,CAAqB,IAArB;AACAN,MAAAA,KAAK,CAACO,WAAN,CAAkBL,YAAlB;AACAZ,MAAAA,YAAY,CAACkB,QAAb,GAAwBN,YAAxB;AACAH,MAAAA,WAAW,CAAC,KAAD,CAAX;AACH,KAPD,EAOGU,KAPH,CAOS,UAAUC,KAAV,EAAiB;AACtBX,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAF,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,KAVD;AAWH;;AAED,WAASc,iBAAT,GAA6B;AACzBd,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAP,IAAAA,YAAY,CAACsB,UAAb,GACCR,IADD,CACO,UAACC,GAAD,EAAS;AACZR,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAG,MAAAA,KAAK,CAACM,cAAN,CAAqB,IAArB;AACAP,MAAAA,WAAW,CAAC,KAAD,CAAX;AACH,KALD,EAKGU,KALH,CAKS,UAAUC,KAAV,EAAiB;AACtBX,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAF,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,KARD;AASH;;AAED,WAASgB,YAAT,GAAwB;AACpBb,IAAAA,KAAK,CAACM,cAAN,CAAqB,KAArB;AACH;;AAED,MAAI,CAACN,KAAK,CAACc,QAAX,EAAqB;AACjB,wBACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACQ,oBAAC,SAAD;AAAW,MAAA,OAAO,EAAElB,SAApB;AAA+B,MAAA,KAAK,EAAEE,QAAtC;AAAgD,MAAA,WAAW,EAAEG,kBAA7D;AAAiF,MAAA,UAAU,EAAIU,iBAA/F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADR,CADJ;AAKH;;AACD,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,WAAW,EAAIE,YAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAMH;;AAED,eAAenB,IAAf","sourcesContent":["import React , { useContext, useState } from 'react';\r\nimport HomePopup from '../components/home/HomePopup';\r\nimport ModelService from '../services/ModelService';\r\nimport Backdrop from '../components/home/Backdrop';\r\nimport { ModelContext } from '../store/model-context'\r\nimport HomeScreen from '../components/home/HomeScreen';\r\nfunction Home(props) {\r\n    const [isLoading, setIsLoading] = useState();\r\n    const [wasError, setWasError] = useState(false);\r\n    const model = useContext(ModelContext);\r\n    \r\n    function createModelHandler(leagueIdData) {\r\n        setIsLoading(true);\r\n        ModelService.createModel(leagueIdData)\r\n        .then( (res) => {\r\n            setIsLoading(false);\r\n            model.setModelLoaded(true);\r\n            model.setLeagueId(leagueIdData)\r\n            ModelService.leagueId = leagueIdData\r\n            setWasError(false);\r\n        }).catch(function (error) {\r\n            setWasError(true);\r\n            setIsLoading(false);\r\n        });\r\n    }\r\n\r\n    function createDemoHandler() {\r\n        setIsLoading(true);\r\n        ModelService.createDemo()\r\n        .then( (res) => {\r\n            setIsLoading(false);\r\n            model.setModelLoaded(true);\r\n            setWasError(false);\r\n        }).catch(function (error) {\r\n            setWasError(true);\r\n            setIsLoading(false);\r\n        });\r\n    }\r\n\r\n    function popupHandler() {\r\n        model.setModelLoaded(false);\r\n    }\r\n\r\n    if (!model.isLoaded) {\r\n        return (\r\n            <Backdrop > \r\n                    <HomePopup loading={isLoading} error={wasError} createModel={createModelHandler} createDemo = {createDemoHandler}/>\r\n            </Backdrop>\r\n        );\r\n    }\r\n    return (\r\n        <div>\r\n            <HomeScreen handlePopup = {popupHandler}/>\r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}